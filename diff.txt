diff --git a/.gitignore b/.gitignore
index 886f714..08b2d48 100644
--- a/.gitignore
+++ b/.gitignore
@@ -33,3 +33,6 @@
 
 # Ignore master key for decrypting credentials and more.
 /config/master.key
+
+# docker volumes
+/.volumes/
diff --git a/.ruby-version b/.ruby-version
index 4efbd8f..72b3400 100644
--- a/.ruby-version
+++ b/.ruby-version
@@ -1 +1 @@
-ruby-3.0.2
+ruby-3.2.1
diff --git a/Dockerfile b/Dockerfile
index 8ec831d..9c2a54c 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -1,10 +1,10 @@
 # Make sure it matches the Ruby version in .ruby-version and Gemfile
-ARG RUBY_VERSION=3.0.2
+ARG RUBY_VERSION=3.2.1
 FROM ruby:$RUBY_VERSION
  
 # Install libvips for Active Storage preview support
 RUN apt-get update -qq && \
-    apt-get install -y build-essential libvips && \
+    apt-get install -y build-essential libvips netcat && \
     apt-get clean && \
     rm -rf /var/lib/apt/lists/* /usr/share/doc /usr/share/man
  
@@ -16,6 +16,8 @@ ENV RAILS_LOG_TO_STDOUT="1" \
     RAILS_SERVE_STATIC_FILES="true" \
     RAILS_ENV="production" \
     BUNDLE_WITHOUT="development"
+
+RUN gem update
  
 # Install application gems
 COPY Gemfile Gemfile.lock ./
@@ -23,6 +25,7 @@ RUN bundle install
  
 # Copy application code
 COPY . .
+RUN chmod +x wait-for-command.sh
  
 # Precompile bootsnap code for faster boot times
 RUN bundle exec bootsnap precompile --gemfile app/ lib/
diff --git a/Gemfile b/Gemfile
index f1d5a5a..31279c4 100644
--- a/Gemfile
+++ b/Gemfile
@@ -1,16 +1,16 @@
 source "https://rubygems.org"
 git_source(:github) { |repo| "https://github.com/#{repo}.git" }
 
-ruby "3.0.2"
+ruby "3.2.1"
 
 # Bundle edge Rails instead: gem "rails", github: "rails/rails", branch: "main"
-gem "rails", "~> 7.0.4", ">= 7.0.4.2"
+gem "rails", "~> 7.0.4", ">= 7.0.4.3"
 
 # The original asset pipeline for Rails [https://github.com/rails/sprockets-rails]
 gem "sprockets-rails"
 
-# Use sqlite3 as the database for Active Record
-#gem "sqlite3", "~> 1.4"
+# Use postgresql as the database for Active Record
+gem "pg", "~> 1.1"
 
 # Use the Puma web server [https://github.com/puma/puma]
 gem "puma", "~> 5.0"
@@ -70,5 +70,3 @@ group :test do
   gem "selenium-webdriver"
   gem "webdrivers"
 end
-
- gem "pg"
diff --git a/Gemfile.lock b/Gemfile.lock
index 01c8cf8..5309d80 100644
--- a/Gemfile.lock
+++ b/Gemfile.lock
@@ -1,67 +1,67 @@
 GEM
   remote: https://rubygems.org/
   specs:
-    actioncable (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actioncable (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       nio4r (~> 2.0)
       websocket-driver (>= 0.6.1)
-    actionmailbox (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      activejob (= 7.0.4.2)
-      activerecord (= 7.0.4.2)
-      activestorage (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actionmailbox (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      activejob (= 7.0.4.3)
+      activerecord (= 7.0.4.3)
+      activestorage (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       mail (>= 2.7.1)
       net-imap
       net-pop
       net-smtp
-    actionmailer (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      actionview (= 7.0.4.2)
-      activejob (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actionmailer (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      actionview (= 7.0.4.3)
+      activejob (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       mail (~> 2.5, >= 2.5.4)
       net-imap
       net-pop
       net-smtp
       rails-dom-testing (~> 2.0)
-    actionpack (7.0.4.2)
-      actionview (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actionpack (7.0.4.3)
+      actionview (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       rack (~> 2.0, >= 2.2.0)
       rack-test (>= 0.6.3)
       rails-dom-testing (~> 2.0)
       rails-html-sanitizer (~> 1.0, >= 1.2.0)
-    actiontext (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      activerecord (= 7.0.4.2)
-      activestorage (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actiontext (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      activerecord (= 7.0.4.3)
+      activestorage (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       globalid (>= 0.6.0)
       nokogiri (>= 1.8.5)
-    actionview (7.0.4.2)
-      activesupport (= 7.0.4.2)
+    actionview (7.0.4.3)
+      activesupport (= 7.0.4.3)
       builder (~> 3.1)
       erubi (~> 1.4)
       rails-dom-testing (~> 2.0)
       rails-html-sanitizer (~> 1.1, >= 1.2.0)
-    activejob (7.0.4.2)
-      activesupport (= 7.0.4.2)
+    activejob (7.0.4.3)
+      activesupport (= 7.0.4.3)
       globalid (>= 0.3.6)
-    activemodel (7.0.4.2)
-      activesupport (= 7.0.4.2)
-    activerecord (7.0.4.2)
-      activemodel (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
-    activestorage (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      activejob (= 7.0.4.2)
-      activerecord (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    activemodel (7.0.4.3)
+      activesupport (= 7.0.4.3)
+    activerecord (7.0.4.3)
+      activemodel (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
+    activestorage (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      activejob (= 7.0.4.3)
+      activerecord (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       marcel (~> 1.0)
       mini_mime (>= 1.1.0)
-    activesupport (7.0.4.2)
+    activesupport (7.0.4.3)
       concurrent-ruby (~> 1.0, >= 1.0.2)
       i18n (>= 1.6, < 2)
       minitest (>= 5.1)
@@ -85,8 +85,6 @@ GEM
     crass (1.0.6)
     date (3.3.3)
     debug (1.7.1)
-      irb (>= 1.5.0)
-      reline (>= 0.3.1)
     erubi (1.12.0)
     globalid (1.1.0)
       activesupport (>= 5.0)
@@ -95,9 +93,6 @@ GEM
     importmap-rails (1.1.5)
       actionpack (>= 6.0.0)
       railties (>= 6.0.0)
-    io-console (0.6.0)
-    irb (1.6.3)
-      reline (>= 0.3.0)
     jbuilder (2.11.5)
       actionview (>= 5.0.0)
       activesupport (>= 5.0.0)
@@ -132,39 +127,37 @@ GEM
     puma (5.6.5)
       nio4r (~> 2.0)
     racc (1.6.2)
-    rack (2.2.6.3)
-    rack-test (2.0.2)
+    rack (2.2.6.4)
+    rack-test (2.1.0)
       rack (>= 1.3)
-    rails (7.0.4.2)
-      actioncable (= 7.0.4.2)
-      actionmailbox (= 7.0.4.2)
-      actionmailer (= 7.0.4.2)
-      actionpack (= 7.0.4.2)
-      actiontext (= 7.0.4.2)
-      actionview (= 7.0.4.2)
-      activejob (= 7.0.4.2)
-      activemodel (= 7.0.4.2)
-      activerecord (= 7.0.4.2)
-      activestorage (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    rails (7.0.4.3)
+      actioncable (= 7.0.4.3)
+      actionmailbox (= 7.0.4.3)
+      actionmailer (= 7.0.4.3)
+      actionpack (= 7.0.4.3)
+      actiontext (= 7.0.4.3)
+      actionview (= 7.0.4.3)
+      activejob (= 7.0.4.3)
+      activemodel (= 7.0.4.3)
+      activerecord (= 7.0.4.3)
+      activestorage (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       bundler (>= 1.15.0)
-      railties (= 7.0.4.2)
+      railties (= 7.0.4.3)
     rails-dom-testing (2.0.3)
       activesupport (>= 4.2.0)
       nokogiri (>= 1.6)
     rails-html-sanitizer (1.5.0)
       loofah (~> 2.19, >= 2.19.1)
-    railties (7.0.4.2)
-      actionpack (= 7.0.4.2)
-      activesupport (= 7.0.4.2)
+    railties (7.0.4.3)
+      actionpack (= 7.0.4.3)
+      activesupport (= 7.0.4.3)
       method_source
       rake (>= 12.2)
       thor (~> 1.0)
       zeitwerk (~> 2.5)
     rake (13.0.6)
     regexp_parser (2.7.0)
-    reline (0.3.2)
-      io-console (~> 0.5)
     rexml (3.2.5)
     rubyzip (2.3.2)
     selenium-webdriver (4.8.1)
@@ -214,9 +207,9 @@ DEPENDENCIES
   debug
   importmap-rails
   jbuilder
-  pg
+  pg (~> 1.1)
   puma (~> 5.0)
-  rails (~> 7.0.4, >= 7.0.4.2)
+  rails (~> 7.0.4, >= 7.0.4.3)
   selenium-webdriver
   sprockets-rails
   stimulus-rails
@@ -226,7 +219,7 @@ DEPENDENCIES
   webdrivers
 
 RUBY VERSION
-   ruby 3.0.2p107
+   ruby 3.2.1p31
 
 BUNDLED WITH
-   2.2.22
+   2.4.8
diff --git a/app/controllers/ping_controller.rb b/app/controllers/ping_controller.rb
new file mode 100644
index 0000000..6ca3cc4
--- /dev/null
+++ b/app/controllers/ping_controller.rb
@@ -0,0 +1,5 @@
+class PingController < ActionController::Base
+    def index
+        render :json => { status: :alive, users_count: User.count }
+    end
+end
\ No newline at end of file
diff --git a/app/models/user.rb b/app/models/user.rb
new file mode 100644
index 0000000..82633c7
--- /dev/null
+++ b/app/models/user.rb
@@ -0,0 +1,3 @@
+class User < ApplicationRecord
+end
+  
\ No newline at end of file
diff --git a/config/database.yml b/config/database.yml
index 2dc9886..2abf7b9 100644
--- a/config/database.yml
+++ b/config/database.yml
@@ -17,7 +17,7 @@
 production:
   adapter: postgresql
   encoding: unicode
-  database: basic_development
+  database: basic_production
   pool: 5
   username: postgres
   password: postgres
@@ -30,7 +30,7 @@ production:
  
   # The TCP port the server listens on. Defaults to 5432.
   # If your server runs on a different port number, change accordingly.
-  #port: 5432
+  port: 5432
  
   # Schema search path. The server defaults to $user,public
   #schema_search_path: myapp,sharedapp,public
diff --git a/config/routes.rb b/config/routes.rb
index 262ffd5..f60a34d 100644
--- a/config/routes.rb
+++ b/config/routes.rb
@@ -3,4 +3,6 @@ Rails.application.routes.draw do
 
   # Defines the root path route ("/")
   # root "articles#index"
+
+  get "/ping", to: "ping#index"
 end
diff --git a/docker-compose.yml b/docker-compose.yml
index 042d9f7..13049f3 100644
--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -5,21 +5,25 @@ services:
     build: .
     command: sh -c "
       cd /rails &&
-      rake db:migrate
+      ./wait-for-command.sh --time 30 --command 'nc -z postgres 5432' &&
+      bundle exec rails db:create &&
+      bundle exec rails db:migrate &&
+      bundle exec rails server
       "
+    environment:
+      SECRET_KEY_BASE: 1
+      RAILS_ENV: production
     ports:
       - 3000:3000
+    depends_on:
+      postgres:
+        condition: service_started
   postgres:
     image: postgres:13.4
     restart: always
     volumes:
-      - ${VOLUME_ROOT}/postgres/var/lib/postgresql/data:/var/lib/postgresql/data
+      - ./.volumes/postgresql/data:/var/lib/postgresql/data
     environment:
       POSTGRES_USER: postgres
-      POSTGRES_PASSWORD: postgres1
-      POSTGRES_DB: basic_development
-    ports:
-      - 9432:5432
-
-      #RAILS_ENV=production rake -t db:migrate
-      
\ No newline at end of file
+      POSTGRES_PASSWORD: postgres
+      POSTGRES_DB: basic_production
\ No newline at end of file
diff --git a/wait-for-command.sh b/wait-for-command.sh
new file mode 100644
index 0000000..dfc7092
--- /dev/null
+++ b/wait-for-command.sh
@@ -0,0 +1,146 @@
+#!/usr/bin/env sh
+#
+# Compare a command exit status to some given number(s) for a period of time.
+
+CMD_NAME="${0##*/}"
+CMD=""
+STATUS=0
+TIME=10
+TIME_START=0
+QUIET=0
+EXIT_STATUS=1
+
+usage() {
+  cat << EOF >&2
+Usage: ${CMD_NAME} [-c 'COMMAND']
+       ${CMD_NAME} [OPTION]... [-c 'COMMAND']
+       ${CMD_NAME} [-c 'COMMAND'] [OPTION]...
+${CMD_NAME} compares a command exit status to some given number(s)
+for a period of time. If comparison is successfully
+${CMD_NAME} returns 0, otherwise 1.
+Example: ${CMD_NAME} -c 'echo > /dev/tcp/127.0.0.1/5432'
+	 ${CMD_NAME} -s 0 57 -c 'curl 127.0.0.1:5432'
+	 ${CMD_NAME} -c 'nc -z 127.0.0.1 5432' -s 0 -t 20 -q
+Options:
+  -c, --command ['COMMAND']   execute a COMMAND.
+  -s, --status [NUMBER]...    target exit status of COMMAND, default 0.
+  -t, --time [NUMBER] 	      max time to wait in seconds, default 10.
+  -q, --quiet                 do not make any output, default false.
+      --help	              display this help.
+Notice that quotes are needed after -c/--command for multi-argument
+COMMANDs.
+Specifying a same OPTION more than once overrides the previews.
+So "${CMD_NAME} -c 'nothing' -c 'curl 127.0.0.1:5432'" will be
+the same as "${CMD_NAME} -c 'curl 127.0.0.1:5432'".
+It does not apply to option -q/--quiet.
+EOF
+  exit 0
+}
+
+output() {
+  if [ "${QUIET}" -ne 1 ]; then
+    printf "%s\n" "$*" 1>&2;
+  fi
+}
+
+process_command() {
+  while [ "$#" -gt 0 ]; do
+    case "$1" in
+      -c | --command)
+	# allow one shift when no arguments
+	if [ -n "$2" ]; then
+	  CMD="$2"
+          shift 1
+	fi
+	shift 1
+	;;
+      -s | --status)
+	# ensure that a number is provided
+	if ([ "$2" -eq "$2" ]) >/dev/null 2>&1; then
+	  unset STATUS
+	  # ensure that a number is provided
+	  while ([ "$2" -eq "$2" ]) >/dev/null 2>&1; do
+	    if [ -z "${STATUS}" ]; then
+	      STATUS="$2"
+	      shift 1
+            else
+	      STATUS="${STATUS} $2"
+	      shift 1
+	    fi
+          done
+	fi
+	shift 1
+	;;
+      -t | --time)
+	# ensure that a number is provided
+	if ([ "$2" -eq "$2" ]) >/dev/null 2>&1; then
+	  TIME="$2"
+	  shift 1
+	fi
+	shift 1
+	;;
+      -q | --quiet)
+	QUIET=1
+	shift 1
+	;;
+      --help)
+	usage
+	;;
+      *)
+	output "Unknown argument: $1"
+	output "Try '${CMD_NAME} --help' for more information."
+	exit "${EXIT_STATUS}"
+	;;
+    esac
+  done
+
+  if [ -z "${CMD}" ]; then
+    output "Missing command: -c, --command ['COMMAND']"
+    output "Try '${CMD_NAME} --help' for more information."
+    exit "${EXIT_STATUS}"
+  fi
+}
+
+main() {
+  message="failed"
+
+  process_command "$@"
+
+  TIME_START=$(date +%s)
+
+  while [ $(($(date +%s)-TIME_START)) -lt "${TIME}" ]; do
+
+    ($CMD) >/dev/null 2>&1 &
+    pid="$!"
+
+    # while both ps and time are running sleep 1s
+    while kill -0 "${pid}" >/dev/null 2>&1 &&
+	      [ $(($(date +%s)-TIME_START)) -lt "${TIME}" ]; do
+      sleep 1
+    done
+
+    # gets CMD status
+    kill "${pid}" >/dev/null 2>&1
+    wait "${pid}" >/dev/null 2>&1
+    cmd_exit_status="$?"
+
+    # looks for equlity in CMD exit status and one of the given status
+    for i in $STATUS; do
+      if ([ "${cmd_exit_status}" -eq "${i}" ]) >/dev/null 2>&1; then
+        message="finished successfully"
+	EXIT_STATUS=0
+	break 2
+      fi
+    done
+
+  done
+
+  output "${CMD_NAME} ${message} after $(($(date +%s)-TIME_START)) second(s)."
+  output "cmd:                 ${CMD}"
+  output "target exit status:  ${STATUS}"
+  output "exited status:       ${cmd_exit_status}"
+
+  exit "${EXIT_STATUS}"
+}
+
+main "$@"
\ No newline at end of file
